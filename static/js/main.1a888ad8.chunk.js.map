{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Buton.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/services/api.js","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","st","SearchForm","event","preventDefault","trim","toast","type","button","size","buttonLabel","input","autoComplete","value","autoFocus","placeholder","onChange","target","toLowerCase","ImageGalleryItem","image","id","webformatURL","largeImageURL","src","alt","ImageGalleryItemImage","ImageGallery","gallery","onClick","map","item","applyLoader","s","Loader","color","height","width","timeout","Button","modalRoot","document","querySelector","Modal","children","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","fetchImages","page","a","fetch","res","ok","json","Promise","reject","Error","statusText","api","App","currentPage","setCurretPage","setGallery","loading","setLoading","showModal","setShowModal","largeImageUrl","setLargeImageUrl","fetchImagesGallery","data","hits","console","log","query","nodeName","dataset","source","length","prev","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1a888ad8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__TRAEC\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__Co8mN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__24-s6\",\"Modal\":\"Modal_Modal__2iO7i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2SJBw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__h6i-L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Buton_Button__3og_-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3j2DN\"};","import PropTypes from \"prop-types\";\nimport { useState } from \"react\";\n// import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport st from \"./Searchbar.module.css\";\nimport { FcSearch } from \"react-icons/fc/\";\n\nconst Searchbar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleChange = (event) => {\n    setSearchQuery(event.target.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (searchQuery.trim() === \"\") {\n      toast(\"Enter your query!\");\n      return;\n    }\n    onSubmit(searchQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <header className={st.Searchbar}>\n      <form className={st.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={st.button}>\n          <FcSearch size=\"25\" />\n          <span className={st.buttonLabel}>Search</span>\n        </button>\n\n        <input\n          className={st.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          value={searchQuery}\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n};\n\n// class Searchbar extends Component {\n//   state = {\n//     searchQuery: \"\",\n//   };\n\n//   handleChange = (event) => {\n//     this.setState({ searchQuery: event.target.value.toLowerCase() });\n//   };\n\n//   handleSubmit = (event) => {\n//     event.preventDefault();\n//     if (this.state.searchQuery.trim() === \"\") {\n//       toast(\"Enter your query!\");\n//       return;\n//     }\n\n//     const { searchQuery } = this.state;\n//     this.props.onSubmit(searchQuery);\n//     this.setState({ searchQuery: \"\" });\n//   };\n\n//   render() {\n//     const { searchQuery } = this.state;\n//     return (\n//       <header className={st.Searchbar}>\n//         <form className={st.SearchForm} onSubmit={this.handleSubmit}>\n//           <button type=\"submit\" className={st.button}>\n//             <FcSearch size=\"25\" />\n//             <span className={st.buttonLabel}>Search</span>\n//           </button>\n\n//           <input\n//             className={st.input}\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             value={searchQuery}\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             onChange={this.handleChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport st from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ image: { id, webformatURL, largeImageURL } }) {\n  return (\n    <li className={st.ImageGalleryItem}>\n      <img\n        id={id}\n        src={webformatURL}\n        alt=\"\"\n        data-source={largeImageURL}\n        className={st.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport st from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className={st.ImageGallery} onClick={onClick}>\n      {gallery.map((item) => (\n        <ImageGalleryItem key={item.id} image={item} />\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst applyLoader = () => {\n  return (\n    <Loader\n      className={s.Loader}\n      type=\"Circles\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      timeout={5000}\n    />\n  );\n};\nexport default applyLoader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Buton.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" onClick={onClick} className={s.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","// import { Component } from \"react\";\nimport { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nconst Modal = ({ children, onClose }) => {\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (event.code === \"Escape\") {\n        onClose();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n};\n\n// class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener(\"keydown\", this.handleKeyDown);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener(\"keydown\", this.handleKeyDown);\n//   }\n\n//   handleKeyDown = (event) => {\n//     if (event.code === \"Escape\") {\n//       this.props.onClose();\n//     }\n//   };\n\n//   handleBackdropClick = (event) => {\n//     if (event.currentTarget === event.target) this.props.onClose();\n//   };\n\n//   render() {\n//     return createPortal(\n//       <div className={s.Overlay} onClick={this.handleBackdropClick}>\n//         <div className={s.Modal}>{this.props.children}</div>\n//       </div>,\n//       modalRoot\n//     );\n//   }\n// }\n\nexport default Modal;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"24464531-810b90441dc32988cf7404dfc\";\nconst PER_PAGE = 12;\n\n// function fetchImages(searchQuery, page) {\n//   return fetch(\n//     `${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`\n//   ).then((response) => {\n//     if (response.ok) {\n//       return response.json();\n//     }\n//     return Promise.reject(new Error(`No results found for ${searchQuery}`));\n//   });\n// }\n\nconst fetchImages = async (searchQuery, page) => {\n  const res = await fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`\n  );\n  return res.ok ? res.json() : Promise.reject(new Error(res.statusText));\n};\n\nconst api = { fetchImages };\n\nexport default api;\n","// import { Component } from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Loader from \"../Loader/Loader\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport api from \"../services/api\";\nimport s from \"./App.module.css\";\n\nconst App = () => {\n  const [currentPage, setCurretPage] = useState(1);\n  const [gallery, setGallery] = useState([]);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageUrl, setLargeImageUrl] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchQuery) return;\n    setLoading(true);\n    const fetchImagesGallery = async () => {\n      try {\n        const data = await api.fetchImages(searchQuery, currentPage);\n        setGallery((gallery) => [...gallery, ...data.hits]);\n      } catch (err) {\n        console.log(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchImagesGallery();\n  }, [currentPage, searchQuery]);\n\n  const loadMore = () => {\n    setCurretPage((prev) => prev + 1);\n  };\n\n  const handleQueryChange = (query) => {\n    setGallery([]);\n    setSearchQuery(query);\n    setCurretPage(1);\n  };\n\n  const openModal = (event) => {\n    if (event.target.nodeName === \"IMG\") {\n      setShowModal(true);\n      setLargeImageUrl(event.target.dataset.source);\n    }\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setLargeImageUrl(\"\");\n  };\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={handleQueryChange} />\n      <ImageGallery\n        gallery={gallery}\n        searchQuery={searchQuery}\n        currentPage={currentPage}\n        onClick={openModal}\n      />\n      {showModal && (\n        <Modal onClose={closeModal} largeImageURL={largeImageUrl}>\n          <img src={largeImageUrl} alt=\"\" />\n        </Modal>\n      )}\n      {loading && <Loader />}\n      {gallery.length > 0 && gallery.length >= 12 && (\n        <Button onClick={loadMore} />\n      )}\n    </div>\n  );\n};\n\n// class App extends Component {\n//   state = {\n//     curretPage: 1,\n//     gallery: [],\n//     searchQuery: \"\",\n//     loading: false,\n//     showModal: false,\n//     largeImageUrl: \"\",\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     if (prevState.searchQuery !== this.state.searchQuery) {\n//       this.fetchImagesGallery();\n//     }\n//   }\n\n//   fetchImagesGallery = () => {\n//     const { currentPage, searchQuery } = this.state;\n//     this.setState({ loading: true });\n//     api\n//       .fetchImages(searchQuery, currentPage)\n//       .then((data) =>\n//         this.setState((prevState) => ({\n//           gallery: [...prevState.gallery, ...data.hits],\n//           currentPage: prevState.currentPage + 1,\n//         }))\n//       )\n//       // .then(() => {\n//       //   window.scrollTo({\n//       //     top: document.documentElement.scrollHeight,\n//       //     behavior: \"smooth\",\n//       //   });\n//       // })\n//       .catch((error) => this.setState({ error }))\n//       .finally(() => this.setState({ loading: false }));\n//   };\n\n//   handleQueryChange = (query) => {\n//     this.setState({ gallery: [], searchQuery: query, currentPage: 1 });\n//   };\n\n//   openModal = (event) => {\n//     if (event.target.nodeName === \"IMG\") {\n//       this.setState({\n//         showModal: true,\n//         largeImageUrl: event.target.dataset.source,\n//       });\n//     }\n//   };\n\n//   closeModal = () => {\n//     this.setState({ showModal: false, largeImageUrl: \"\" });\n//   };\n\n//   render() {\n//     const {\n//       gallery,\n//       searchQuery,\n//       currentPage,\n//       showModal,\n//       largeImageUrl,\n//       loading,\n//     } = this.state;\n\n//     return (\n//       <div className={s.App}>\n//         <Searchbar onSubmit={this.handleQueryChange} />\n//         <ImageGallery\n//           gallery={gallery}\n//           searchQuery={searchQuery}\n//           currentPage={currentPage}\n//           onClick={this.openModal}\n//         />\n//         {showModal && (\n//           <Modal onClose={this.closeModal} largeImageURL={largeImageUrl}>\n//             <img src={largeImageUrl} alt=\"\" />\n//           </Modal>\n//         )}\n//         {loading && <Loader />}\n//         {gallery.length > 0 && !loading && (\n//           <Button onClick={this.fetchImagesGallery} />\n//         )}\n//       </div>\n//     );\n//   }\n// }\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3t3eX\",\"SearchForm\":\"Searchbar_SearchForm__rpNYg\",\"button\":\"Searchbar_button__1Ow1y\",\"buttonLabel\":\"Searchbar_buttonLabel__3Hcqc\",\"input\":\"Searchbar_input__2nFz3\"};"],"sourceRoot":""}