(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__TRAEC",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__Co8mN"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__24-s6",Modal:"Modal_Modal__2iO7i"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2SJBw"}},16:function(e,t,a){e.exports={Loader:"Loader_Loader__h6i-L"}},17:function(e,t,a){e.exports={Button:"Buton_Button__3og_-"}},18:function(e,t,a){e.exports={App:"App_App__3j2DN"}},25:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=(a(25),a(5)),i=a.n(s),u=a(13),l=a(9),b=a(3),m=a(20),j=a(6),f=a.n(j),p=a(19),d=a(1),h=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(b.a)(a,2),c=r[0],o=r[1];return Object(d.jsx)("header",{className:f.a.Searchbar,children:Object(d.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):Object(m.a)("Enter your query!")},children:[Object(d.jsxs)("button",{type:"submit",className:f.a.button,children:[Object(d.jsx)(p.a,{size:"25"}),Object(d.jsx)("span",{className:f.a.buttonLabel,children:"Search"})]}),Object(d.jsx)("input",{className:f.a.input,type:"text",autoComplete:"off",value:c,autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value.toLowerCase())}})]})})},O=a(14),g=a.n(O),_=a(11),x=a.n(_);var y=function(e){var t=e.image,a=t.id,n=t.webformatURL,r=t.largeImageURL;return Object(d.jsx)("li",{className:x.a.ImageGalleryItem,children:Object(d.jsx)("img",{id:a,src:n,alt:"","data-source":r,className:x.a.ImageGalleryItemImage})})};var v=function(e){var t=e.gallery,a=e.onClick;return Object(d.jsx)("ul",{className:g.a.ImageGallery,onClick:a,children:t.map((function(e){return Object(d.jsx)(y,{image:e},e.id)}))})},I=(a(28),a(15)),S=a.n(I),w=a(16),N=a.n(w),k=function(){return Object(d.jsx)(S.a,{className:N.a.Loader,type:"Circles",color:"#3f51b5",height:80,width:80,timeout:5e3})},C=a(17),L=a.n(C),G=function(e){var t=e.onClick;return Object(d.jsx)("button",{type:"button",onClick:t,className:L.a.Button,children:"Load more"})},E=a(12),M=a.n(E),B=document.querySelector("#modal-root"),A=function(e){var t=e.children,a=e.onClose;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(c.createPortal)(Object(d.jsx)("div",{className:M.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(d.jsx)("div",{className:M.a.Modal,children:t})}),B)},F=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(a,"&key=").concat("24464531-810b90441dc32988cf7404dfc","&image_type=photo&orientation=horizontal&per_page=").concat(12));case 2:return n=e.sent,e.abrupt("return",n.ok?n.json():Promise.reject(new Error(n.statusText)));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q={fetchImages:F},R=a(18),z=a.n(R),J=function(){var e=Object(n.useState)(1),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(b.a)(c,2),s=o[0],m=o[1],j=Object(n.useState)(""),f=Object(b.a)(j,2),p=f[0],O=f[1],g=Object(n.useState)(!1),_=Object(b.a)(g,2),x=_[0],y=_[1],I=Object(n.useState)(!1),S=Object(b.a)(I,2),w=S[0],N=S[1],C=Object(n.useState)(""),L=Object(b.a)(C,2),E=L[0],M=L[1];Object(n.useEffect)((function(){if(p){y(!0);var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.fetchImages(p,a);case 3:t=e.sent,m((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.hits))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,y(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();e()}}),[a,p]);return Object(d.jsxs)("div",{className:z.a.App,children:[Object(d.jsx)(h,{onSubmit:function(e){m([]),O(e),r(1)}}),Object(d.jsx)(v,{gallery:s,searchQuery:p,currentPage:a,onClick:function(e){"IMG"===e.target.nodeName&&(N(!0),M(e.target.dataset.source))}}),w&&Object(d.jsx)(A,{onClose:function(){N(!1),M("")},largeImageURL:E,children:Object(d.jsx)("img",{src:E,alt:""})}),x&&Object(d.jsx)(k,{}),s.length>0&&s.length>=12&&Object(d.jsx)(G,{onClick:function(){r((function(e){return e+1}))}})]})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3t3eX",SearchForm:"Searchbar_SearchForm__rpNYg",button:"Searchbar_button__1Ow1y",buttonLabel:"Searchbar_buttonLabel__3Hcqc",input:"Searchbar_input__2nFz3"}}},[[49,1,2]]]);
//# sourceMappingURL=main.1a888ad8.chunk.js.map